2019-04-01 15:14:21,927 ERROR 5765 [-/172.18.11.29/-/45ms POST /user/register] nodejs.TypeError: ctx.service.user.addUser is not a function
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:20:54)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 5765
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:15:20,196 ERROR 5782 [-/172.18.11.29/-/45ms POST /user/register] nodejs.TypeError: ctx.service.user.addUser is not a function
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:21:54)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 5782
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:18:36,200 ERROR 5804 [-/172.18.11.29/-/42ms POST /user/register] nodejs.TypeError: ctx.service.user.add is not a function
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:21:54)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 5804
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:19:32,098 ERROR 5826 [-/172.18.11.29/-/48ms POST /user/register] nodejs.TypeError: ctx.service.user.add is not a function
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:21:54)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 5826
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:21:20,760 ERROR 5853 [-/172.18.11.29/-/61ms POST /user/register] nodejs.TypeError: ctx.service.user.add is not a function
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:22:54)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 5853
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:21:34,732 ERROR 5860 [-/172.18.11.29/-/50ms POST /user/register] nodejs.TypeError: ctx.service.user.add is not a function
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:21:54)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 5860
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:24:46,292 ERROR 5882 [-/172.18.11.29/-/60ms POST /user/register] nodejs.TypeError: ctx.service.user.add is not a function
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:22:54)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 5882
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:33:24,964 ERROR 6200 [-/172.18.11.29/-/67ms POST /user/register] nodejs.TypeError: ctx.service.user.add is not a function
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:22:45)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 6200
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:47:54,668 ERROR 6307 [-/172.18.11.29/-/7ms POST /user/destroy] nodejs.TypeError: Cannot read property 'body' of undefined
    at DestroyController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/destroy.js:11:26)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 6307
hostname: yangfandeMacBook-Pro.local

2019-04-01 15:48:29,867 ERROR 6313 [-/172.18.11.29/-/28ms POST /user/destroy] nodejs.TypeError: ctx.service.base.user.destroy is not a function
    at DestroyController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/destroy.js:22:53)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 6313
hostname: yangfandeMacBook-Pro.local

2019-04-01 16:05:30,423 ERROR 6975 [-/172.18.11.29/-/72ms POST /user/destroy] nodejs.TypeError: Cannot read property 'password' of undefined
    at DestroyController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/destroy.js:23:36)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 6975
hostname: yangfandeMacBook-Pro.local

2019-04-01 18:04:56,283 ERROR 9208 [-/172.18.11.29/-/47ms POST /user/login] nodejs.TypeError: secret must be a string or buffer
    at typeError (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jwa/index.js:115:10)
    at checkIsSecretKey (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jwa/index.js:74:11)
    at Object.sign (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jwa/index.js:130:5)
    at Object.jwsSign [as sign] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jws/lib/sign-stream.js:32:24)
    at Object.module.exports [as sign] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jsonwebtoken/sign.js:204:16)
    at LoginController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/login.js:59:27)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 9208
hostname: yangfandeMacBook-Pro.local

2019-04-01 18:05:25,628 ERROR 9214 [-/172.18.11.29/-/42ms POST /user/login] nodejs.Error: secretOrPrivateKey must have a value
    at Object.module.exports [as sign] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jsonwebtoken/sign.js:107:20)
    at LoginController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/login.js:59:27)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 9214
hostname: yangfandeMacBook-Pro.local

2019-04-01 18:07:35,922 ERROR 9243 [-/172.18.11.29/-/30ms POST /user/login] nodejs.SyntaxError: Identifier 'token' has already been declared
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 9243
hostname: yangfandeMacBook-Pro.local

2019-04-01 20:00:47,328 ERROR 11107 [-/172.18.11.29/-/45ms POST /user/login] nodejs.Error: secretOrPrivateKey must have a value
    at Object.module.exports [as sign] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jsonwebtoken/sign.js:107:20)
    at LoginController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/login.js:58:30)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 11107
hostname: yangfandeMacBook-Pro.local

2019-04-01 20:05:57,011 ERROR 11132 [-/172.18.11.29/-/40ms POST /user/login] nodejs.Error: error:0906D06C:PEM routines:PEM_read_bio:no start line
    at Sign.sign (crypto.js:331:26)
    at Object.sign (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jwa/index.js:152:45)
    at Object.jwsSign [as sign] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jws/lib/sign-stream.js:32:24)
    at Object.module.exports [as sign] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/jsonwebtoken/sign.js:204:16)
    at LoginController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/login.js:58:30)
    at <anonymous>
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 11132
hostname: yangfandeMacBook-Pro.local

2019-04-02 08:10:11,509 ERROR 9283 nodejs.ClusterClientNoResponseError: client no response in 43262678ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:498:11)
    at tryOnTimeout (timers.js:323:5)
    at Timer.listOnTimeout (timers.js:290:5)
name: "ClusterClientNoResponseError"
pid: 9283
hostname: yangfandeMacBook-Pro.local

2019-04-02 09:24:40,385 ERROR 9283 nodejs.ClusterClientNoResponseError: client no response in 4468823ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:498:11)
    at tryOnTimeout (timers.js:323:5)
    at Timer.listOnTimeout (timers.js:290:5)
name: "ClusterClientNoResponseError"
pid: 9283
hostname: yangfandeMacBook-Pro.local

2019-04-02 11:10:04,198 ERROR 12645 [-/172.18.11.29/-/49ms POST /user/login] nodejs.TypeError: Converting circular structure to JSON
    at JSON.stringify (<anonymous>)
    at respond (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa/lib/application.js:243:15)
    at handleResponse (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa/lib/application.js:149:34)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 12645
hostname: yangfandeMacBook-Pro.local

2019-04-02 11:10:41,993 ERROR 12651 [-/172.18.11.29/-/54ms POST /user/login] nodejs.TypeError: Converting circular structure to JSON
    at JSON.stringify (<anonymous>)
    at respond (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa/lib/application.js:243:15)
    at handleResponse (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa/lib/application.js:149:34)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 12651
hostname: yangfandeMacBook-Pro.local

2019-04-02 11:12:38,181 ERROR 12668 [-/172.18.11.29/-/26ms POST /user/login] nodejs.InternalServerError: a security problem has been detected for url "http://172.18.11.29:1234/#/login", redirection is prohibited.
    at Object.throw (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa/lib/context.js:97:11)
    at Object.redirect (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/safe_redirect.js:73:34)
    at Object.proto.(anonymous function) [as redirect] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/delegates/index.js:40:31)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/app/middleware/sso.js:26:17
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at nosniff (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/nosniff.js:8:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at noopen (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/noopen.js:8:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at notAllow (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/methodnoallow.js:21:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
message: "a security problem has been detected for url \"http://172.18.11.29:1234/#/login\", redirection is prohibited."
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 12668
hostname: yangfandeMacBook-Pro.local

2019-04-02 11:12:38,183 ERROR 12668 nodejs.InternalServerError: a security problem has been detected for url "http://172.18.11.29:1234/#/login", redirection is prohibited.
    at Object.throw (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa/lib/context.js:97:11)
    at Object.redirect (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/safe_redirect.js:73:34)
    at Object.proto.(anonymous function) [as redirect] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/delegates/index.js:40:31)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/app/middleware/sso.js:26:17
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/app/middleware/sso.js:8:9
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
message: "a security problem has been detected for url \"http://172.18.11.29:1234/#/login\", redirection is prohibited."
pid: 12668
hostname: yangfandeMacBook-Pro.local

2019-04-02 11:25:38,550 ERROR 12779 [-/172.18.11.29/-/27ms POST /user/login] nodejs.TypeError: Cannot read property 'redis' of undefined
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/app/middleware/sso.js:11:36
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at nosniff (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/nosniff.js:8:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at noopen (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/noopen.js:8:11)
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 12779
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:23,604 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:23,605 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:23,664 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:23,665 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:23,767 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:23,768 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:23,924 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:23,924 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:24,128 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:24,128 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:24,383 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:24,384 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:24,687 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:24,687 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:25,043 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:25,043 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:25,445 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:25,445 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:25,896 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:25,896 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:26,401 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:26,402 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:26,955 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:26,955 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:27,558 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:27,558 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:28,211 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:28,211 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:28,913 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:28,915 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:29,671 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:29,671 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:30,477 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:30,478 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:31,331 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:31,332 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:32,233 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:32,233 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:33,185 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:33,186 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:34,191 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:34,192 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:35,243 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:35,244 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:36,349 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:36,350 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:37,502 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:37,503 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:38,704 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:38,704 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:09:39,958 ERROR 2453 [egg-redis] client error: Error: connect ECONNREFUSED 127.0.0.1:6379
2019-04-15 11:09:39,959 ERROR 2453 nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:6379
    at Object._errnoException (util.js:992:11)
    at _exceptionWithHostPort (util.js:1014:20)
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1186:14)
code: "ECONNREFUSED"
errno: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 6379
name: "ECONNREFUSEDError"
pid: 2453
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:19:15,101 ERROR 2981 [-/172.18.11.29/-/26ms POST /user/register] nodejs.SequelizeDatabaseError: Unknown column 'pay_time' in 'field list'
    at Query.formatError (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:247:16)
    at Query.handler [as onResult] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:68:23)
    at Query.execute (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:79:25)
    at emitOne (events.js:116:13)
    at Socket.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at Socket.Readable.push (_stream_readable.js:208:10)
    at TCP.onread (net.js:597:20)
From previous event:
    at Query.run (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:57:12)
    at Promise.try.then.connection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:558:20)
From previous event:
    at Promise.resolve.retryParameters (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:555:8)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:454:28)
    at QueryInterface.select (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/query-interface.js:1104:27)
    at Promise.try.then.then.then (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1598:34)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
    at processImmediate [as _immediateCallback] (timers.js:745:5)
From previous event:
    at Function.findAll (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1595:8)
    at BaseService.isHaveUser (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/service/base/user.js:9:45)
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:9:60)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
name: "SequelizeDatabaseError"
parent: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
original: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
sql: "SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 2981
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:21:00,063 ERROR 2992 [-/172.18.11.29/-/39ms POST /user/login] nodejs.SequelizeDatabaseError: Unknown column 'pay_time' in 'field list'
    at Query.formatError (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:247:16)
    at Query.handler [as onResult] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:68:23)
    at Query.execute (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:79:25)
    at emitOne (events.js:116:13)
    at Socket.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at Socket.Readable.push (_stream_readable.js:208:10)
    at TCP.onread (net.js:597:20)
From previous event:
    at Query.run (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:57:12)
    at Promise.try.then.connection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:558:20)
From previous event:
    at Promise.resolve.retryParameters (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:555:8)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:454:28)
    at QueryInterface.select (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/query-interface.js:1104:27)
    at Promise.try.then.then.then (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1598:34)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
    at processImmediate [as _immediateCallback] (timers.js:745:5)
From previous event:
    at Function.findAll (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1595:8)
    at BaseService.isHaveUser (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/service/base/user.js:9:45)
    at LoginController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/login.js:36:52)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
name: "SequelizeDatabaseError"
parent: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
original: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
sql: "SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 2992
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:21:03,677 ERROR 2992 [-/172.18.11.29/-/6ms POST /user/register] nodejs.SequelizeDatabaseError: Unknown column 'pay_time' in 'field list'
    at Query.formatError (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:247:16)
    at Query.handler [as onResult] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:68:23)
    at Query.execute (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:79:25)
    at emitOne (events.js:116:13)
    at Socket.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at Socket.Readable.push (_stream_readable.js:208:10)
    at TCP.onread (net.js:597:20)
From previous event:
    at Query.run (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:57:12)
    at Promise.try.then.connection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:558:20)
From previous event:
    at Promise.resolve.retryParameters (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:555:8)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:454:28)
    at QueryInterface.select (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/query-interface.js:1104:27)
    at Promise.try.then.then.then (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1598:34)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
    at processImmediate [as _immediateCallback] (timers.js:745:5)
From previous event:
    at Function.findAll (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1595:8)
    at BaseService.isHaveUser (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/service/base/user.js:9:45)
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:9:60)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
name: "SequelizeDatabaseError"
parent: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
original: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
sql: "SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 2992
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:21:40,231 ERROR 2992 [-/172.18.11.29/-/8ms POST /user/login] nodejs.SequelizeDatabaseError: Unknown column 'pay_time' in 'field list'
    at Query.formatError (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:247:16)
    at Query.handler [as onResult] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:68:23)
    at Query.execute (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:79:25)
    at emitOne (events.js:116:13)
    at Socket.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at Socket.Readable.push (_stream_readable.js:208:10)
    at TCP.onread (net.js:597:20)
From previous event:
    at Query.run (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:57:12)
    at Promise.try.then.connection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:558:20)
From previous event:
    at Promise.resolve.retryParameters (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:555:8)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:454:28)
    at QueryInterface.select (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/query-interface.js:1104:27)
    at Promise.try.then.then.then (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1598:34)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
    at processImmediate [as _immediateCallback] (timers.js:745:5)
From previous event:
    at Function.findAll (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1595:8)
    at BaseService.isHaveUser (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/service/base/user.js:9:45)
    at LoginController.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/login.js:36:52)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
name: "SequelizeDatabaseError"
parent: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
original: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
sql: "SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 2992
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:21:43,172 ERROR 2992 [-/172.18.11.29/-/6ms POST /user/register] nodejs.SequelizeDatabaseError: Unknown column 'pay_time' in 'field list'
    at Query.formatError (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:247:16)
    at Query.handler [as onResult] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:68:23)
    at Query.execute (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:79:25)
    at emitOne (events.js:116:13)
    at Socket.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at Socket.Readable.push (_stream_readable.js:208:10)
    at TCP.onread (net.js:597:20)
From previous event:
    at Query.run (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:57:12)
    at Promise.try.then.connection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:558:20)
From previous event:
    at Promise.resolve.retryParameters (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:555:8)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:454:28)
    at QueryInterface.select (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/query-interface.js:1104:27)
    at Promise.try.then.then.then (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1598:34)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
    at processImmediate [as _immediateCallback] (timers.js:745:5)
From previous event:
    at Function.findAll (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1595:8)
    at BaseService.isHaveUser (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/service/base/user.js:9:45)
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:9:60)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
name: "SequelizeDatabaseError"
parent: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
original: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
sql: "SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 2992
hostname: yangfandeMacBook-Pro.local

2019-04-15 11:22:08,785 ERROR 3022 [-/172.18.11.29/-/36ms POST /user/register] nodejs.SequelizeDatabaseError: Unknown column 'pay_time' in 'field list'
    at Query.formatError (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:247:16)
    at Query.handler [as onResult] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:68:23)
    at Query.execute (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/mysql2/lib/connection.js:79:25)
    at emitOne (events.js:116:13)
    at Socket.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at Socket.Readable.push (_stream_readable.js:208:10)
    at TCP.onread (net.js:597:20)
From previous event:
    at Query.run (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/dialects/mysql/query.js:57:12)
    at Promise.try.then.connection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:558:20)
From previous event:
    at Promise.resolve.retryParameters (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:555:8)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/sequelize.js:454:28)
    at QueryInterface.select (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/query-interface.js:1104:27)
    at Promise.try.then.then.then (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1598:34)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
    at processImmediate [as _immediateCallback] (timers.js:745:5)
From previous event:
    at Function.findAll (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/sequelize/lib/model.js:1595:8)
    at BaseService.isHaveUser (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/service/base/user.js:9:45)
    at RegisterContorller.index (/Users/yangfan/Desktop/yf/my-mall/mall-service/app/controller/user/register.js:9:60)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at next (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:45:18)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:44:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/node_modules/koa-compose/index.js:36:12
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/@eggjs/router/lib/router.js:195:33)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at /Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-development/app/middleware/egg_loader_trace.js:9:56
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at i18n (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-i18n/app/middleware/i18n.js:13:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at dta (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/dta.js:12:12)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xframe (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xframe.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
    at xssProtection (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/egg-security/lib/middlewares/xssProtection.js:7:11)
    at dispatch (/Users/yangfan/Desktop/yf/my-mall/mall-service/node_modules/koa-compose/index.js:42:32)
name: "SequelizeDatabaseError"
parent: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
original: {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'pay_time' in 'field list'","sql":"SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"}
sql: "SELECT `user_id`, `name`, `phone`, `password`, `age`, `pay_time`, `created_at`, `updated_at` FROM `users` AS `users` WHERE `users`.`phone` = '18797814594';"
headers: {"Access-Control-Allow-Origin":"*","vary":"Origin"}
pid: 3022
hostname: yangfandeMacBook-Pro.local

